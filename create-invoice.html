<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InFree - 請求書作成</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        body {
            min-height: 100vh;
            background: #f5f5f5;
            display: flex;
        }

        /* サイドバー */
        .sidebar {
            width: 280px;
            height: 100vh;
            background: #ffffff;
            border-right: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            position: fixed;
            left: 0;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .sidebar-header {
            padding: 20px 16px 20px 24px;
            border-bottom: 1px solid #e5e7eb;
            position: relative;
        }

        /* サイドバー内のトグルボタン */
        .sidebar-toggle {
            position: absolute;
            top: 20px;
            right: 16px;
            width: 32px;
            height: 32px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .sidebar-toggle:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }

        .sidebar-toggle-icon {
            width: 18px;
            height: 18px;
            color: #6b7280;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
        }

        .logo {
            width: 48px;
            height: 48px;
            background: #4F46E5;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .logo-icon {
            width: 28px;
            height: 28px;
            color: white;
        }

        .logo-text {
            font-size: 24px;
            font-weight: 700;
            color: #1a1a1a;
            letter-spacing: -0.5px;
        }

        /* ナビゲーション */
        .nav-menu {
            flex: 1;
            padding: 20px 12px;
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: 32px;
        }

        .nav-section-title {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 0 12px;
            margin-bottom: 8px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            margin-bottom: 4px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: #6b7280;
            text-decoration: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .nav-item:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .nav-item.active {
            background: #4F46E5;
            color: #ffffff;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .nav-text {
            font-size: 15px;
            font-weight: 500;
        }

        .nav-badge {
            margin-left: auto;
            padding: 2px 8px;
            background: #e5e7eb;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
        }

        .nav-item.active .nav-badge {
            background: rgba(255, 255, 255, 0.2);
            color: #ffffff;
        }

        /* サイドバーフッター */
        .sidebar-footer {
            padding: 20px;
            border-top: 1px solid #e5e7eb;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f9fafb;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .user-profile:hover {
            background: #f3f4f6;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: #4F46E5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            color: white;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 2px;
        }

        .user-email {
            font-size: 12px;
            color: #6b7280;
        }

        /* メインコンテンツ */
        .main-content {
            flex: 1;
            margin-left: 280px;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        /* ヘッダー */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .page-title {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* タイトル左のトグルボタン（サイドバー非表示時） */
        .header-toggle {
            width: 40px;
            height: 40px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .header-toggle:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .header-toggle-icon {
            width: 20px;
            height: 20px;
            color: #374151;
        }

        .title-text {
            font-size: 32px;
            font-weight: 700;
            color: #1f2937;
            letter-spacing: -0.5px;
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        .header-button {
            height: 44px;
            padding: 0 24px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 15px;
            font-weight: 500;
        }

        .header-button:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .header-button.primary {
            background: #4F46E5;
            border: none;
            color: #ffffff;
        }

        .header-button.primary:hover {
            background: #4338CA;
        }

        .button-icon {
            width: 20px;
            height: 20px;
        }

        /* コンテンツグリッド */
        .content-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            flex: 1;
            width: 100%;
        }

        /* カード */
        .card {
            background: #ffffff;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 32px;
            height: fit-content;
            width: 100%;
            min-width: 0;
            box-sizing: border-box;
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            padding-bottom: 20px;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            background: #4F46E5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
        }

        /* フォーム */
        .form-section {
            margin-bottom: 28px;
        }

        .section-title {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-icon {
            width: 18px;
            height: 18px;
            color: #4F46E5;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
        }

        .form-input {
            width: 100%;
            height: 44px;
            padding: 0 12px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            color: #1f2937;
            font-size: 15px;
            transition: border-color 0.2s ease;
        }

        .form-input::placeholder {
            color: #9ca3af;
        }

        .form-input:focus {
            outline: none;
            border-color: #4F46E5;
        }

        .form-textarea {
            width: 100%;
            min-height: 80px;
            padding: 12px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            color: #1f2937;
            font-size: 15px;
            resize: vertical;
            transition: border-color 0.2s ease;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #4F46E5;
        }

        /* 品目テーブル */
        .items-container {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 16px;
            margin-bottom: 16px;
            width: 100%;
            overflow-x: auto;
            box-sizing: border-box;
        }

        .items-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 12px;
            min-width: 500px;
        }

        .items-header span {
            font-size: 13px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .item-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 12px;
            margin-bottom: 12px;
            min-width: 500px;
        }

        .item-input {
            height: 40px;
            padding: 0 12px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            color: #1f2937;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }

        .item-input:focus {
            outline: none;
            border-color: #4F46E5;
        }

        .item-input[readonly] {
            background: #f3f4f6;
            color: #6b7280;
            cursor: not-allowed;
        }

        .remove-item-btn {
            width: 40px;
            height: 40px;
            background: #ffffff;
            border: 1px solid #fca5a5;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .remove-item-btn:hover {
            background: #fef2f2;
            border-color: #f87171;
        }

        .remove-icon {
            width: 18px;
            height: 18px;
            color: #ef4444;
        }

        .add-item-btn {
            width: 100%;
            height: 40px;
            background: #ffffff;
            border: 1px dashed #4F46E5;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #4F46E5;
            font-size: 14px;
            font-weight: 500;
        }

        .add-item-btn:hover {
            background: #f8faff;
            border-color: #4338CA;
        }

        .add-icon {
            width: 18px;
            height: 18px;
        }

        /* 合計セクション */
        .totals-section {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 20px;
            margin-top: 24px;
        }

        .total-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .total-row:last-child {
            margin-bottom: 0;
            padding-top: 12px;
            border-top: 1px solid #e5e7eb;
        }

        .total-label {
            font-size: 14px;
            color: #6b7280;
        }

        .total-row:last-child .total-label {
            font-size: 16px;
            font-weight: 600;
            color: #1f2937;
        }

        .total-value {
            font-size: 16px;
            font-weight: 500;
            color: #1f2937;
        }

        .total-row:last-child .total-value {
            font-size: 24px;
            font-weight: 700;
            color: #4F46E5;
        }

        /* プレビューセクション */
        .preview-container {
            background: white;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            overflow: hidden;
            height: fit-content;
            width: 100%;
            min-width: 0;
            box-sizing: border-box;
        }

        .preview-header {
            background: #f9fafb;
            padding: 16px 24px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-start;
            align-items: center;
        }

        .preview-title {
            font-size: 14px;
            font-weight: 600;
            color: #374151;
        }

        .invoice-preview {
            padding: 40px;
            min-height: 800px;
            color: #1f2937;
        }

        .invoice-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 40px;
        }

        .invoice-title {
            font-size: 32px;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .invoice-number {
            font-size: 14px;
            color: #6b7280;
        }

        .company-info {
            text-align: right;
        }

        .company-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .company-details {
            font-size: 14px;
            color: #6b7280;
            line-height: 1.6;
        }

        .invoice-date {
            font-size: 14px;
            color: #374151;
            margin-bottom: 30px;
        }

        .client-section {
            margin-bottom: 40px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 6px;
        }

        .client-label {
            font-size: 12px;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .client-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .client-address {
            font-size: 14px;
            color: #374151;
            line-height: 1.6;
        }

        .invoice-table {
            width: 100%;
            margin-bottom: 30px;
            border-collapse: collapse;
        }

        .invoice-table th {
            background: #f9fafb;
            padding: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: #6b7280;
            text-align: left;
            border-bottom: 2px solid #e5e7eb;
        }

        .invoice-table th:last-child {
            text-align: right;
        }

        .invoice-table td {
            padding: 16px 12px;
            font-size: 14px;
            border-bottom: 1px solid #f3f4f6;
        }

        .invoice-table td:last-child {
            text-align: right;
            font-weight: 500;
        }

        .invoice-totals {
            margin-left: auto;
            width: 300px;
        }

        .invoice-total-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            font-size: 14px;
        }

        .invoice-total-row.grand-total {
            margin-top: 8px;
            padding-top: 16px;
            border-top: 2px solid #e5e7eb;
            font-size: 18px;
            font-weight: 700;
            color: #1f2937;
        }

        .invoice-notes {
            margin-top: 40px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 6px;
        }

        .invoice-notes-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .invoice-notes-text {
            font-size: 14px;
            color: #374151;
            line-height: 1.6;
        }

        /* アカウント設定ダイアログのスタイル */
        /* モーダルオーバーレイ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-overlay.show {
            display: flex;
        }

        /* ダイアログカード */
        .dialog-card {
            background: #ffffff;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        /* ダイアログヘッダー */
        .dialog-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 32px;
            border-bottom: 1px solid #e5e7eb;
            background: #ffffff;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .dialog-title-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dialog-icon {
            width: 40px;
            height: 40px;
            background: #4F46E5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .dialog-title {
            font-size: 24px;
            font-weight: 700;
            color: #1f2937;
        }

        .close-button {
            width: 40px;
            height: 40px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .close-button:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .close-icon {
            width: 20px;
            height: 20px;
            color: #374151;
        }

        /* ダイアログコンテンツ */
        .dialog-content {
            padding: 32px;
        }

        /* タブナビゲーション */
        .tab-navigation {
            display: flex;
            border-bottom: 1px solid #e5e7eb;
            margin-bottom: 32px;
            gap: 8px;
        }

        .tab-button {
            padding: 12px 20px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            color: #6b7280;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-button:hover {
            color: #374151;
        }

        .tab-button.active {
            color: #4F46E5;
            border-bottom-color: #4F46E5;
        }

        .tab-icon {
            width: 18px;
            height: 18px;
        }

        /* タブコンテンツ */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* プロフィール画像セクション */
        .profile-image-section {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 24px;
            padding: 20px;
            background: #f9fafb;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            background: #4F46E5;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 600;
            color: white;
        }

        .profile-info {
            flex: 1;
        }

        .profile-name {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .profile-email {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 12px;
        }

        .change-avatar-btn {
            height: 36px;
            padding: 0 16px;
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 14px;
            font-weight: 500;
        }

        .change-avatar-btn:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        /* チェックボックス */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #d1d5db;
            border-radius: 4px;
            background: #ffffff;
            cursor: pointer;
            position: relative;
            transition: all 0.2s ease;
        }

        .checkbox:checked {
            background: #4F46E5;
            border-color: #4F46E5;
        }

        .checkbox:checked::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 6px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .checkbox-label {
            font-size: 14px;
            color: #374151;
            cursor: pointer;
        }

        /* ボタン */
        .button-group {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 32px;
        }

        .button {
            height: 44px;
            padding: 0 24px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 15px;
            font-weight: 500;
            text-decoration: none;
        }

        .button.secondary {
            background: #ffffff;
            color: #374151;
        }

        .button.secondary:hover {
            background: #f9fafb;
            border-color: #9ca3af;
        }

        .button.primary {
            background: #4F46E5;
            border-color: #4F46E5;
            color: #ffffff;
        }

        .button.primary:hover {
            background: #4338CA;
            border-color: #4338CA;
        }

        .button.danger {
            background: #ef4444;
            border-color: #ef4444;
            color: #ffffff;
        }

        .button.danger:hover {
            background: #dc2626;
            border-color: #dc2626;
        }

        .button-icon {
            width: 18px;
            height: 18px;
        }

        /* アラート */
        .alert {
            padding: 16px;
            border-radius: 6px;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert.success {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: #166534;
        }

        .alert.warning {
            background: #fffbeb;
            border: 1px solid #fed7aa;
            color: #92400e;
        }

        .alert.error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
        }

        .alert-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        /* 注意ゾーン */
        .danger-zone {
            margin-top: 40px;
            padding: 24px;
            background: #fef2f2;
            border: 1px solid #fecaca;
            border-radius: 8px;
        }

        .danger-zone-title {
            font-size: 18px;
            font-weight: 600;
            color: #991b1b;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .danger-zone-description {
            font-size: 14px;
            color: #7f1d1d;
            margin-bottom: 16px;
            line-height: 1.6;
        }

        /* レスポンシブ */
        @media (max-width: 992px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                width: 280px;
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
                padding: 16px;
            }

            .header-toggle {
                display: flex;
            }

            .sidebar-toggle {
                display: flex;
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
                margin-bottom: 20px;
            }

            .header-actions {
                width: 100%;
                justify-content: flex-end;
            }
        }

        @media (max-width: 768px) {
            .content-grid {
                grid-template-columns: 1fr;
            }

            .modal-overlay {
                padding: 12px;
            }

            .dialog-card {
                max-height: 95vh;
            }

            .dialog-header {
                padding: 20px 24px;
            }

            .dialog-title {
                font-size: 20px;
            }

            .dialog-content {
                padding: 24px;
            }

            .tab-navigation {
                flex-direction: column;
                gap: 0;
            }

            .tab-button {
                padding: 16px 20px;
                border-bottom: 1px solid #e5e7eb;
                border-right: none;
                justify-content: flex-start;
            }

            .tab-button.active {
                border-bottom-color: #e5e7eb;
                border-left: 3px solid #4F46E5;
                background: #f8faff;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }

            .profile-image-section {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }

            .button-group {
                flex-direction: column;
                gap: 8px;
            }

            .button {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 8px;
            }

            .sidebar {
                width: 100%;
            }

            .dialog-header {
                padding: 16px 20px;
            }

            .dialog-title {
                font-size: 18px;
            }

            .dialog-content {
                padding: 20px;
            }

            .profile-avatar {
                width: 60px;
                height: 60px;
                font-size: 24px;
            }

            .form-input,
            .form-textarea {
                height: 40px;
                font-size: 14px;
            }

            .form-textarea {
                min-height: 60px;
            }

            .button {
                height: 40px;
                font-size: 14px;
            }
        }
    </style>
</head>

<body>
    <!-- サイドバー -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <a href="dashboard.html" class="logo-container">
                <div class="logo">
                    <svg class="logo-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 2 2h12c1.11 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z" />
                    </svg>
                </div>
                <span class="logo-text">InFree</span>
            </a>
            <button class="sidebar-toggle" onclick="toggleSidebar()">
                <svg class="sidebar-toggle-icon" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
                </svg>
            </button>
        </div>

        <nav class="nav-menu">
            <div class="nav-section">
                <div class="nav-section-title">メイン</div>
                <a href="dashboard.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z" />
                    </svg>
                    <span class="nav-text">ダッシュボード</span>
                </a>
                <a href="#" class="nav-item active">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 2 2h12c1.11 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z" />
                    </svg>
                    <span class="nav-text">請求書作成</span>
                </a>
                <a href="invoice-list.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 2 2h12c1.11 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" />
                    </svg>
                    <span class="nav-text">請求書一覧</span>
                    <span class="nav-badge">24</span>
                </a>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">設定</div>
                <a href="settings.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z" />
                    </svg>
                    <span class="nav-text">設定</span>
                </a>
                <a href="help.html" class="nav-item">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M13,19h-2v-2h2V19z M15.07,11.25l-0.9,0.92 C13.45,12.9,13,13.5,13,15h-2v-0.5c0-1.1,0.45-2.1,1.17-2.83l1.24-1.26c0.37-0.36,0.59-0.86,0.59-1.41c0-1.1-0.9-2-2-2 s-2,0.9-2,2H8c0-2.21,1.79-4,4-4s4,1.79,4,4C16,9.64,15.62,10.57,15.07,11.25z" />
                    </svg>
                    <span class="nav-text">ヘルプ</span>
                </a>
            </div>
        </nav>

        <div class="sidebar-footer">
            <div class="user-profile" onclick="showAccountDialog()">
                <div class="user-avatar">山</div>
                <div class="user-info">
                    <div class="user-name">山田 太郎</div>
                    <div class="user-email">yamada@infree.jp</div>
                </div>
            </div>
        </div>
    </aside>

    <!-- メインコンテンツ -->
    <main class="main-content">
        <header class="header">
            <div class="page-title">
                <button class="header-toggle" onclick="toggleSidebar()">
                    <svg class="header-toggle-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                    </svg>
                </button>
                <h1 class="title-text">請求書作成</h1>
            </div>
            <div class="header-actions">
                <button class="header-button">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" />
                    </svg>
                    <span>下書き保存</span>
                </button>
                <button class="header-button primary" onclick="generatePDF()">
                    <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                    </svg>
                    <span>PDF出力</span>
                </button>
            </div>
        </header>

        <div class="content-grid">
            <div class="card">
                <div class="card-header">
                    <div class="card-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 2 2h12c1.11 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z" />
                        </svg>
                    </div>
                    <h2 class="card-title">請求書情報入力</h2>
                </div>

                <form id="invoice-form">
                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                            </svg>
                            基本情報
                        </h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">請求書番号</label>
                                <input type="text" class="form-input" id="invoice-number" value="INV-2025-001"
                                    placeholder="INV-2025-001">
                            </div>
                            <div class="form-group">
                                <label class="form-label">発行日</label>
                                <input type="date" class="form-input" id="invoice-date" value="2025-05-25">
                            </div>
                            <div class="form-group">
                                <label class="form-label">支払期限</label>
                                <input type="date" class="form-input" id="due-date" value="2025-06-30">
                            </div>
                            <div class="form-group">
                                <label class="form-label">消費税率</label>
                                <input type="number" class="form-input" id="tax-rate" value="10" min="0" max="100"
                                    placeholder="10">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                            </svg>
                            請求先情報
                        </h3>
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label class="form-label">会社名</label>
                                <input type="text" class="form-input" id="client-company" placeholder="株式会社〇〇">
                            </div>
                            <div class="form-group">
                                <label class="form-label">部署名</label>
                                <input type="text" class="form-input" id="client-department" placeholder="営業部">
                            </div>
                            <div class="form-group">
                                <label class="form-label">担当者名</label>
                                <input type="text" class="form-input" id="client-name" placeholder="山田太郎">
                            </div>
                            <div class="form-group full-width">
                                <label class="form-label">住所</label>
                                <input type="text" class="form-input" id="client-address" placeholder="東京都渋谷区〇〇1-2-3">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10z" />
                            </svg>
                            請求元情報
                        </h3>
                        <div class="form-grid">
                            <div class="form-group full-width">
                                <label class="form-label">会社名</label>
                                <input type="text" class="form-input" id="company-name" value="InFree株式会社"
                                    placeholder="あなたの会社名">
                            </div>
                            <div class="form-group full-width">
                                <label class="form-label">住所</label>
                                <input type="text" class="form-input" id="company-address" value="神奈川県川崎市〇〇区〇〇1-2-3"
                                    placeholder="あなたの会社の住所">
                            </div>
                            <div class="form-group">
                                <label class="form-label">電話番号</label>
                                <input type="tel" class="form-input" id="company-phone" value="044-123-4567"
                                    placeholder="03-1234-5678">
                            </div>
                            <div class="form-group">
                                <label class="form-label">メールアドレス</label>
                                <input type="email" class="form-input" id="company-email" value="info@infree.jp"
                                    placeholder="info@example.com">
                            </div>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z" />
                            </svg>
                            品目
                        </h3>
                        <div class="items-container">
                            <div class="items-header">
                                <span>品目名</span>
                                <span>数量</span>
                                <span>単価</span>
                                <span>金額</span>
                                <span></span>
                            </div>
                            <div id="items-list">
                                <div class="item-row">
                                    <input type="text" class="item-input" placeholder="品目名" value="ウェブサイト制作">
                                    <input type="number" class="item-input item-quantity" placeholder="1" value="1"
                                        min="1">
                                    <input type="number" class="item-input item-price" placeholder="0" value="300000"
                                        min="0">
                                    <input type="text" class="item-input item-subtotal" readonly value="¥300,000">
                                    <button type="button" class="remove-item-btn" onclick="removeItem(this)">
                                        <svg class="remove-icon" viewBox="0 0 24 24" fill="currentColor">
                                            <path
                                                d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                                        </svg>
                                    </button>
                                </div>
                            </div>
                            <button type="button" class="add-item-btn" onclick="addItem()">
                                <svg class="add-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                                </svg>
                                品目を追加
                            </button>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V9h2v2zm0-4h-2V5h2v2z" />
                            </svg>
                            備考
                        </h3>
                        <div class="form-group">
                            <textarea class="form-textarea" id="notes" placeholder="お振込手数料はご負担ください。" rows="3">お振込手数料はご負担ください。
ご不明な点がございましたら、お気軽にお問い合わせください。</textarea>
                        </div>
                    </div>

                    <div class="totals-section">
                        <div class="total-row">
                            <span class="total-label">小計</span>
                            <span class="total-value" id="subtotal">¥300,000</span>
                        </div>
                        <div class="total-row">
                            <span class="total-label">消費税（10%）</span>
                            <span class="total-value" id="tax">¥30,000</span>
                        </div>
                        <div class="total-row">
                            <span class="total-label">合計金額</span>
                            <span class="total-value" id="total">¥330,000</span>
                        </div>
                    </div>
                </form>
            </div>

            <div class="card">
                <div class="preview-container">
                    <div class="preview-header">
                        <span class="preview-title">請求書プレビュー</span>
                    </div>
                    <div class="invoice-preview" id="invoice-preview">
                        <div class="invoice-header">
                            <div>
                                <h1 class="invoice-title">請求書</h1>
                                <p class="invoice-number">請求書番号: <span id="preview-invoice-number">INV-2025-001</span>
                                </p>
                            </div>
                            <div class="company-info">
                                <h2 class="company-name" id="preview-company-name">InFree株式会社</h2>
                                <div class="company-details">
                                    <div id="preview-company-address">神奈川県川崎市〇〇区〇〇1-2-3</div>
                                    <div id="preview-company-phone">TEL: 044-123-4567</div>
                                    <div id="preview-company-email">info@infree.jp</div>
                                </div>
                            </div>
                        </div>

                        <div class="invoice-date">
                            発行日: <span id="preview-invoice-date">2025年5月25日</span>
                        </div>

                        <div class="client-section">
                            <div class="client-label">請求先</div>
                            <div class="client-name">
                                <span id="preview-client-company">株式会社〇〇</span>
                                <span id="preview-client-department"></span>
                                <span id="preview-client-name"></span> 様
                            </div>
                            <div class="client-address" id="preview-client-address"></div>
                        </div>

                        <table class="invoice-table">
                            <thead>
                                <tr>
                                    <th style="width: 50%">品目</th>
                                    <th style="width: 15%">数量</th>
                                    <th style="width: 15%">単価</th>
                                    <th style="width: 20%">金額</th>
                                </tr>
                            </thead>
                            <tbody id="preview-items">
                                <tr>
                                    <td>ウェブサイト制作</td>
                                    <td>1</td>
                                    <td>¥300,000</td>
                                    <td>¥300,000</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="invoice-totals">
                            <div class="invoice-total-row">
                                <span>小計</span>
                                <span id="preview-subtotal">¥300,000</span>
                            </div>
                            <div class="invoice-total-row">
                                <span>消費税（10%）</span>
                                <span id="preview-tax">¥30,000</span>
                            </div>
                            <div class="invoice-total-row grand-total">
                                <span>合計金額</span>
                                <span id="preview-total">¥330,000</span>
                            </div>
                        </div>

                        <div class="invoice-notes">
                            <div class="invoice-notes-title">備考</div>
                            <div class="invoice-notes-text" id="preview-notes">お振込手数料はご負担ください。
                                ご不明な点がございましたら、お気軽にお問い合わせください。</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- アカウント設定ダイアログ -->
    <div class="modal-overlay" id="account-modal">
        <div class="dialog-card">
            <div class="dialog-header">
                <div class="dialog-title-section">
                    <div class="dialog-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z" />
                        </svg>
                    </div>
                    <h1 class="dialog-title">アカウント設定</h1>
                </div>
                <button class="close-button" onclick="closeDialog()">
                    <svg class="close-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>

            <div class="dialog-content">
                <div class="tab-navigation">
                    <button class="tab-button active" onclick="switchTab('profile')">
                        <svg class="tab-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                        </svg>
                        プロフィール
                    </button>
                    <button class="tab-button" onclick="switchTab('security')">
                        <svg class="tab-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M18,8h-1V6c0-2.76-2.24-5-5-5S7,3.24,7,6v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M12,17c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S13.1,17,12,17z M15.1,8H8.9V6c0-1.71,1.39-3.1,3.1-3.1s3.1,1.39,3.1,3.1V8z" />
                        </svg>
                        セキュリティ
                    </button>
                    <button class="tab-button" onclick="switchTab('notifications')">
                        <svg class="tab-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path
                                d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z" />
                        </svg>
                        通知設定
                    </button>
                </div>

                <!-- プロフィールタブ -->
                <div id="profile-tab" class="tab-content active">
                    <div class="profile-image-section">
                        <div class="profile-avatar">山</div>
                        <div class="profile-info">
                            <div class="profile-name">山田 太郎</div>
                            <div class="profile-email">yamada@infree.jp</div>
                            <button class="change-avatar-btn">
                                <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 15.6c1.76 0 3.2-1.44 3.2-3.2s-1.44-3.2-3.2-3.2-3.2 1.44-3.2 3.2 1.44 3.2 3.2 3.2zm0-5.2c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z" />
                                    <path
                                        d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" />
                                </svg>
                                アバターを変更
                            </button>
                        </div>
                    </div>

                    <form>
                        <div class="form-section">
                            <h3 class="section-title">
                                <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                                </svg>
                                基本情報
                            </h3>
                            <div class="form-grid">
                                <div class="form-group">
                                    <label class="form-label">姓</label>
                                    <input type="text" class="form-input" value="山田" placeholder="姓">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">名</label>
                                    <input type="text" class="form-input" value="太郎" placeholder="名">
                                </div>
                                <div class="form-group full-width">
                                    <label class="form-label">メールアドレス</label>
                                    <input type="email" class="form-input" value="yamada@infree.jp"
                                        placeholder="メールアドレス">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">電話番号</label>
                                    <input type="tel" class="form-input" value="090-1234-5678" placeholder="電話番号">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">職業・役職</label>
                                    <input type="text" class="form-input" value="代表取締役" placeholder="職業・役職">
                                </div>
                            </div>
                        </div>

                        <div class="button-group">
                            <button type="button" class="button secondary" onclick="closeDialog()">
                                <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                                </svg>
                                キャンセル
                            </button>
                            <button type="button" class="button primary" onclick="saveSettings()">
                                <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" />
                                </svg>
                                保存
                            </button>
                        </div>

                        <div class="danger-zone">
                            <h3 class="danger-zone-title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                                </svg>
                                注意！
                            </h3>
                            <p class="danger-zone-description">
                                アカウントを削除すると、すべてのデータが完全に削除され、復元することはできません。
                                この操作は取り消すことができませんので、十分にご注意ください。
                            </p>
                            <button type="button" class="button danger">
                                <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" />
                                </svg>
                                アカウントを削除
                            </button>
                        </div>
                    </form>
                </div>

                <!-- セキュリティタブ -->
                <div id="security-tab" class="tab-content">
                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M18,8h-1V6c0-2.76-2.24-5-5-5S7,3.24,7,6v2H6c-1.1,0-2,0.9-2,2v10c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V10C20,8.9,19.1,8,18,8z M12,17c-1.1,0-2-0.9-2-2s0.9-2,2-2s2,0.9,2,2S13.1,17,12,17z M15.1,8H8.9V6c0-1.71,1.39-3.1,3.1-3.1s3.1,1.39,3.1,3.1V8z" />
                            </svg>
                            パスワード変更
                        </h3>
                        <form>
                            <div class="form-group">
                                <label class="form-label">現在のパスワード</label>
                                <input type="password" class="form-input" placeholder="現在のパスワード">
                            </div>
                            <div class="form-group">
                                <label class="form-label">新しいパスワード</label>
                                <input type="password" class="form-input" placeholder="新しいパスワード">
                            </div>
                            <div class="form-group">
                                <label class="form-label">新しいパスワード（確認）</label>
                                <input type="password" class="form-input" placeholder="新しいパスワード（確認）">
                            </div>
                            <button type="button" class="button primary">
                                <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                    <path
                                        d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z" />
                                </svg>
                                パスワードを更新
                            </button>
                        </form>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" />
                            </svg>
                            2段階認証
                        </h3>
                        <div class="alert warning">
                            <svg class="alert-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                            </svg>
                            <div>
                                <strong>2段階認証が無効になっています。</strong><br>
                                セキュリティを向上させるため、2段階認証を有効にすることをお勧めします。
                            </div>
                        </div>
                        <button type="button" class="button primary">
                            <svg class="button-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" />
                            </svg>
                            2段階認証を有効にする
                        </button>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M13,3A9,9 0 0,0 4,12H1L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3M12,8V13L16.28,15.54L17,14.33L13.5,12.25V8H12Z" />
                            </svg>
                            最新のログイン履歴
                        </h3>
                        <div style="background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 6px; padding: 16px;">
                            <div style="margin-bottom: 12px; font-size: 14px;">
                                <strong>現在のセッション</strong> - Chrome (Windows) - 2025年5月30日 14:32
                            </div>
                            <div style="margin-bottom: 12px; font-size: 14px; color: #6b7280;">
                                iPhone Safari - 2025年5月29日 20:15
                            </div>
                            <div style="font-size: 14px; color: #6b7280;">
                                Chrome (Windows) - 2025年5月28日 09:45
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 通知設定タブ -->
                <div id="notifications-tab" class="tab-content">
                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z" />
                            </svg>
                            メール通知設定
                        </h3>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="invoice-notifications" checked>
                            <label for="invoice-notifications" class="checkbox-label">請求書の作成・更新時に通知を受け取る</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="payment-notifications" checked>
                            <label for="payment-notifications" class="checkbox-label">支払期限が近づいた時に通知を受け取る</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="overdue-notifications" checked>
                            <label for="overdue-notifications" class="checkbox-label">支払期限を過ぎた時に通知を受け取る</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="system-notifications">
                            <label for="system-notifications" class="checkbox-label">システムアップデートやメンテナンス情報を受け取る</label>
                        </div>
                    </div>

                    <div class="form-section">
                        <h3 class="section-title">
                            <svg class="section-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path
                                    d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z" />
                            </svg>
                            プッシュ通知設定
                        </h3>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="browser-notifications" checked>
                            <label for="browser-notifications" class="checkbox-label">ブラウザプッシュ通知を有効にする</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" class="checkbox" id="mobile-notifications" checked>
                            <label for="mobile-notifications" class="checkbox-label">モバイルアプリ通知を有効にする</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // サイドバートグル
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('mobile-open');
        }

        // アカウント設定ダイアログ関連
        function showAccountDialog() {
            const modal = document.getElementById('account-modal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function hideAccountDialog() {
            const modal = document.getElementById('account-modal');
            modal.classList.remove('show');
            document.body.style.overflow = '';
        }

        function closeDialog() {
            if (confirm('変更内容が保存されていません。閉じてもよろしいですか？')) {
                hideAccountDialog();
            }
        }

        function saveSettings() {
            alert('設定を保存しました');
            hideAccountDialog();
        }

        // タブ切り替え
        function switchTab(tabName) {
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });

            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // モーダル外をクリックした時にダイアログを閉じる
        document.getElementById('account-modal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeDialog();
            }
        });

        // ESCキーでダイアログを閉じる
        document.addEventListener('keydown', function (e) {
            if (e.key === 'Escape') {
                const modal = document.getElementById('account-modal');
                if (modal.classList.contains('show')) {
                    closeDialog();
                }
            }
        });

        // 請求書関連の機能
        function formatCurrency(num) {
            return '¥' + num.toLocaleString('ja-JP');
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('ja-JP', { year: 'numeric', month: 'long', day: 'numeric' });
        }

        function addItem() {
            const itemsList = document.getElementById('items-list');
            const newRow = document.createElement('div');
            newRow.className = 'item-row';
            newRow.innerHTML = `
        <input type="text" class="item-input" placeholder="品目名">
        <input type="number" class="item-input item-quantity" placeholder="1" value="1" min="1">
        <input type="number" class="item-input item-price" placeholder="0" value="0" min="0">
        <input type="text" class="item-input item-subtotal" readonly value="¥0">
        <button type="button" class="remove-item-btn" onclick="removeItem(this)">
          <svg class="remove-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
          </svg>
        </button>
      `;
            itemsList.appendChild(newRow);

            const quantityInput = newRow.querySelector('.item-quantity');
            const priceInput = newRow.querySelector('.item-price');
            quantityInput.addEventListener('input', () => updateItemSubtotal(newRow));
            priceInput.addEventListener('input', () => updateItemSubtotal(newRow));
        }

        function removeItem(button) {
            button.parentElement.remove();
            calculateTotals();
            updatePreview();
        }

        function updateItemSubtotal(row) {
            const quantity = parseFloat(row.querySelector('.item-quantity').value) || 0;
            const price = parseFloat(row.querySelector('.item-price').value) || 0;
            const subtotal = quantity * price;
            row.querySelector('.item-subtotal').value = formatCurrency(subtotal);
            calculateTotals();
            updatePreview();
        }

        function calculateTotals() {
            let subtotal = 0;
            const itemRows = document.querySelectorAll('.item-row');

            itemRows.forEach(row => {
                const quantity = parseFloat(row.querySelector('.item-quantity').value) || 0;
                const price = parseFloat(row.querySelector('.item-price').value) || 0;
                subtotal += quantity * price;
            });

            const taxRate = parseFloat(document.getElementById('tax-rate').value) || 0;
            const tax = Math.floor(subtotal * taxRate / 100);
            const total = subtotal + tax;

            document.getElementById('subtotal').textContent = formatCurrency(subtotal);
            document.getElementById('tax').textContent = formatCurrency(tax);
            document.getElementById('total').textContent = formatCurrency(total);
        }

        function updatePreview() {
            document.getElementById('preview-invoice-number').textContent = document.getElementById('invoice-number').value || 'INV-2025-001';
            document.getElementById('preview-invoice-date').textContent = formatDate(document.getElementById('invoice-date').value);

            document.getElementById('preview-client-company').textContent = document.getElementById('client-company').value || '';
            document.getElementById('preview-client-department').textContent = document.getElementById('client-department').value || '';
            document.getElementById('preview-client-name').textContent = document.getElementById('client-name').value || '';
            document.getElementById('preview-client-address').textContent = document.getElementById('client-address').value || '';

            document.getElementById('preview-company-name').textContent = document.getElementById('company-name').value || '';
            document.getElementById('preview-company-address').textContent = document.getElementById('company-address').value || '';
            document.getElementById('preview-company-phone').textContent = 'TEL: ' + (document.getElementById('company-phone').value || '');
            document.getElementById('preview-company-email').textContent = document.getElementById('company-email').value || '';

            const previewItems = document.getElementById('preview-items');
            previewItems.innerHTML = '';

            document.querySelectorAll('.item-row').forEach(row => {
                const name = row.querySelector('input[type="text"]').value;
                const quantity = row.querySelector('.item-quantity').value;
                const price = parseFloat(row.querySelector('.item-price').value) || 0;
                const subtotal = parseFloat(quantity) * price;

                if (name) {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
            <td>${name}</td>
            <td>${quantity}</td>
            <td>${formatCurrency(price)}</td>
            <td>${formatCurrency(subtotal)}</td>
          `;
                    previewItems.appendChild(tr);
                }
            });

            document.getElementById('preview-subtotal').textContent = document.getElementById('subtotal').textContent;
            document.getElementById('preview-tax').textContent = document.getElementById('tax').textContent;
            document.getElementById('preview-total').textContent = document.getElementById('total').textContent;

            document.getElementById('preview-notes').textContent = document.getElementById('notes').value || '';
        }

        function generatePDF() {
            alert('PDF生成機能は実装準備中です。実際のアプリケーションでは、ここでPDFが生成されます。');
        }

        // イベントリスナー設定
        document.addEventListener('DOMContentLoaded', function () {
            const inputs = document.querySelectorAll('.form-input, .form-textarea');
            inputs.forEach(input => {
                input.addEventListener('input', updatePreview);
            });

            document.querySelectorAll('.item-quantity, .item-price').forEach(input => {
                input.addEventListener('input', function () {
                    updateItemSubtotal(this.parentElement);
                });
            });

            document.getElementById('tax-rate').addEventListener('input', calculateTotals);

            calculateTotals();
            updatePreview();
        });
    </script>
</body>

</html>